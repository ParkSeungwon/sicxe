	start 1000
RDREC  LDX    ZERO
	 LDA    ZERO
RLOOP  TD     INPUT
	 JEQ    RLOOP
	 RD     INPUT
	 COMP   ZERO
	 JEQ    EXIT
	 STCH   BUFFER,X
	 TIX    MAXLEN
	 JLT    RLOOP
EXIT   STX    LENGTH
INPUT  BYTE   F1
MAXLEN WORD   fff
zero word 0
buffer resw 256
	end
